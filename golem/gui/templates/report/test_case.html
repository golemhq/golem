{% extends "report/base.html" %}

{% block header_declarations %}
<link href="{{ url_for('static', filename='report/css/test_case.css') }}" rel="stylesheet" type="text/css" media="screen">
{% endblock %}

{% block content %}

<!-- BOTTOM: LEFT NAV AND RIGHT MAIN CONTENT -->
<div class="bottom">
	<div class="container">
		<div class="row">
			<!-- content-wrapper -->
			<div id="columna-principal" class="col-md-8 col-md-offset-2 content-wrapper">
				
				<h1 class="titulo-pagina">{{test_case_data.name|replace("_", " ")}}</h1>
				<div class="col-md-12 proyect-container main-container test_case_container" id="testDetails">
					<h3>Details</h3>
					<div class="row">
						<div class="col-sm-2">Description</div>
						<div class="col-sm-10">{{test_case_data.description}}</div>
						<div class="clearfix"></div>
						{% if test_case_data.module %}
						<div class="col-sm-2">Module</div>
						<div class="col-sm-10">{{test_case_data.module}}</div>
						{% endif %}
						{% if test_case_data.sub_modules %}
							<div class="col-sm-2">Submodules</div>
							{% for sub in test_case_data.sub_modules %}
							<div class="col-sm-10">{{sub}}</div>
							{% endfor %}
						{% endif %}
						<div class="col-sm-2">Result</div>
						<div class="col-sm-10">{{test_case_data.result}}</div>
						{% if test_case_data.url %}
						<div class="col-sm-2">URL</div>
						<div class="col-sm-10">{{test_case_data.url}}</div>
						{% endif %}
						<div class="col-sm-2">Browser</div>
						<div class="col-sm-10">{{test_case_data.browser}}</div>
						<div class="col-sm-2">Start Time</div>
						<div class="col-sm-10">{{test_case_data.start_date_time}}</div>
						<div class="col-sm-2">Elapsed Time</div>
						<div class="col-sm-10">{{test_case_data.test_elapsed_time}} seconds</div>
						{% if test_case_data.short_error %}
							<div class="col-sm-2">Error</div>
							<div class="col-sm-10" style="word-wrap: break-word;">{{test_case_data.short_error}}</div>
						{% endif %}
					</div>
				</div>

				<div class="col-md-12 proyect-container main-container test_case_container" id="steps">
					<h3>Steps</h3>
					{% for step in test_case_data.steps %}
						<div class="step">
							<span>{{loop.index}}.</span>
							{% if step[1] %}
								<span class="hand-icon" data-toggle="collapse" data-target="#{{step[1]}}" aria-expanded="false" aria-controls="{{step[1]}}">{{step[0]}} <span class="glyphicon glyphicon-picture" aria-hidden="true"></span></span>
								<div class="collapse text-center" id="{{step[1]}}">
									<img class="step-screenshot hand-icon" src="/report/screenshot/{{project}}/{{suite}}/{{execution}}/{{test_case}}/{{test_set}}/{{step[1]}}/" onclick="expandImg(event);">
								</div>
							{% else %}
								{{step[0]}}
							{% endif %}
						</div>
					{% endfor %}
				</div>
			</div>
		</div>									
		<!-- BOTTOM: LEFT NAV AND RIGHT MAIN CONTENT -->
	</div>
	<!-- content-wrapper -->
</div>

{% endblock %}

{% block page_footer_declarations %}

<script type="text/javascript">
	var project = '{{project}}';
	var suite = '{{suite}}';
	var execution = '{{execution}}';
	var testCase = '{{test_case}}';
</script>

<script src="{{ url_for('static', filename='report/js/testCase.js') }}"></script>

{% endblock %}